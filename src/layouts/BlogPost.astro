---
import type { CollectionEntry } from 'astro:content';
import Main from './Main.astro';
import Time from '../components/Time.svelte';

type Props = CollectionEntry<'blog'>['data'];

const { title, author, summary, pubDate, updatedDate, image } = Astro.props;
---
<Main title={title} description={summary} image={image}>
	<article class="m-5 mt-3">
		<header class="lg:grid grid-cols-[auto_auto_minmax(300px,_1fr)] grid-rows-[auto_auto]">
			<h2 class="font-bold row-span-2 text-2xl m-2 mt-3">{title}</h2>
			<address class="post-meta inline-block col-start-2">{author}</address>
			<Time client:load datetime={pubDate} />
			<div class="italic tracking-[3px] text-emph-fg col-start-2 col-span-2 m-2 mt-0">{summary}</div>
			{updatedDate && <div>Amended <Time datetime={updatedDate} /></div>}
		</header>
		<hr class="mb-3">
		<main class="max-w-[100ch] font-prose post-content">
			<slot />
		</main>
	</article>
</Main>
